


<!DOCTYPE html>
<html lang="English">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reflection:Finished at Programming stage [ Hayden&#39;s Journal ]</title>
  <meta name="baidu-site-verification" content="86burbRUA2" />
  <meta name="google-site-verification" content="ddD504LkQFv-uiU4zbpAwPJVWsp0KOc-PDdg5ZX1MtU" />
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/hhy.css">
    
  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script type="text/javascript">
      window.onload = function(){
          var parallax = new Parallax(document.getElementById('scene'));
           
      }
     
    </script>
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.6.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.6.0/highlight.min.js"></script>
  
            
</head>
<body>


<div id="menu-outer">

  <div id="menu-inner">
    
    

    <nav class="navbar navbar-expand-lg navbar-light ">
      <a class="navbar-brand" href="#"> Hayden's Journal </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          
            <li><a class="nav-item nav-link " href="/">Home</a></li>
          
            <li><a class="nav-item nav-link " href="/archives">Archives</a></li>
          
            <li><a class="nav-item nav-link " href="/about">About</a></li>
          
          

        </div>
      </div>
    </nav>
    <!-- nav -->  
  </div>
</div>

<div id="content-outer" class="container-fluid">
  <div id="content-inner" class="row">
    

<div id="post-container" class="col-sm-12 col-md-7 offset-md-1">
	<div class="col-12"><h1 class="holder" >&nbsp</h1></div>
	
	<div class="row">
		
	
		<div id="post-head" class="col">
			<h1 class="article-title">Reflection:Finished at Programming stage</h1>
			<span class="article-tags">
				 
					

<a class="post-tag" href="/tags/Javascript/">Javascript</a>


			</span>

		

		</div>
		<article id="post" class="rounded-bottom col-12">
			
		  
		  <div class="col-sm-12 col-md-10">
		  	<h1 id="Reflection-About-programming-and-concept-of-building-Web"><a href="#Reflection-About-programming-and-concept-of-building-Web" class="headerlink" title="Reflection: About programming and concept of building Web"></a>Reflection: About programming and concept of building Web</h1><p>Basically, I’ve finished this Web during this term. To summary, this Web is designed to devote translate words to graphic information. The content I used is Chinese classical poem, I catched poem by JSON which be supported by <a href="https://gushi.ci/" target="_blank" rel="noopener">Gushi.ci</a>. <a id="more"></a>Therefore, user can get massive poem randomly, and they can try to understand it by graphic as well as the translation supported by Baidu’s API. Now, I’m going to conclude some problem I faced, and the final solution.</p>
<h2 id="use-Javascript-module-to-create-elements-in-time"><a href="#use-Javascript-module-to-create-elements-in-time" class="headerlink" title="use Javascript module to create elements in time."></a>use Javascript module to create elements in time.</h2><p>The target is showing a gallery on Web, there are many of image had been upload on cloud server, and display by <strong>href Link</strong>. I collected all of link in JSON file, and the Web can read link than create elements.</p>
<h3 id="module-style-and-Event"><a href="#module-style-and-Event" class="headerlink" title="module style and Event"></a>module style and Event</h3><p>As ECMA6 declared:</p>
<pre><code>$(&#39;body&#39;).append(`
    &lt;p&gt;Content:${Variable}&lt;/p&gt;
`)
</code></pre><p>` (反引号) this symbol can include string and <strong>variable</strong>, which means it is easy to create module and generate elements on HTML.<br>The question is I should add event listener to elements for motion and interaction. After every new generations, I added event listener repeatedly, which means when user interact with that element, it will response many times! The original method is:</p>
<pre><code>Array.from(.elements).forEach((t)=&gt;{
    t.addEventListener(&#39;click&#39;,function(){
        ...
    })
}) 
</code></pre><p>To add <strong>EL</strong> for every elements, I chose a <strong>class</strong>, and set to an <strong>Array</strong>, so it can use forEach() to <strong>iterate</strong> (遍历). <strong>But</strong>, the existed elements will be added EL again, which is horrible..So I changed the method of add, I chose the last element which is <strong>the last generated</strong>, and add EL for it. The important thing is <strong>Selector</strong>. </p>
<p>The SVG object can be chosen by CSS selector or DOM selector, so I would like to set attribute of SVG by <strong>Anime.js</strong> </p>
<pre><code>let cir = svg.paper.circle(x,y,r) //create circle element
cir.attr({
    class:&#39;.cir-in-svg&#39;
}) // set class so it can be chosen by CSS/Anime

anime({
    targets:&#39;.cir-in-svg&#39;,
    translateX:[
        {values:100,duration:1000,easing:&#39;linear&#39;},
        {values:0,duration:1000,easing:&#39;linear&#39;}            
    ],
    opacity:1,
    duration:function(el,i,l){
        return 500 + i*100  // el=targets,i=index,l=length
    }
})
</code></pre><p>SVG can be set by CSS with a good performance and interactivity.  So in future work, my main direction will be vector graphic and interactive animation.</p>
<h3 id="add-a-random-item-from-existed-Array"><a href="#add-a-random-item-from-existed-Array" class="headerlink" title="add a random item from existed Array"></a>add a random item from existed Array</h3><p>This is a really usually requirement in WEB application, users could load more elements in time, but if every times they click and see <strong>same</strong> arrangement, there will not be cool. <code>There is a simple solution: create a new array, **random** select an element and push to new Array, then return the new one</code>, I thought. That’s wrong. Because it will add repeat elements, if randomly choose. So, the new solution is use Set type which declared by ECMA6, it like Array, can be iterated by for(..of..) The most important thing is : <strong>Set can not save same element</strong></p>
<pre><code>const originArr = [a,b,c,d,e]
let ranSet = new Set()

do {
    ranSet.add(originArr[Math.floor(Math.random() * originArr.length)])
} while (ranSet.size&lt;5);

let    newArr = Array.from(ranSet)
</code></pre><p>So, the newArray is the new Array which is absolutely random.</p>

		  </div>
		</article>
		
	</div>
</div>
<div id="right-col" class="col-sm-12 col-md-3 ">
			<div class="col-sm-12">
	<div class="col-12"><h1 class="holder" >&nbsp</h1></div>
	
	<div id="post-list" class=" col-md-12 d-none d-sm-block ">
		
		
		<h2 class="col-sm-10 float-left">All post</h2>
		<ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/02/15/Js-tips/">Web tips</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/14/research-Family/">Research: Family</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/14/Tech-and-communication/">Tech and communication</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/11/Creative-process/">Creative process</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/06/use-GUI-to-build-shape/">use GUI to build shape</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/06/Oxford-journal/">Oxford trip</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/04/Way-of-seeing/">Way of seeing</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/02/Play-with-computer/">Play with computer</a></li></ul>
		<div id="post-list-more" class="col-12"><a  href="/archives">More</a></div>
	</div>
</div>
	
		</div>
<div class="container-fluid">
	<div class="col-sm-12 col-md-7 offset-md-1" id="disqus_thread"></div>
</div>	
		
<script>
	$(document).ready(function(){
    hljs.initHighlightingOnLoad();
});
</script>

<script>
	(function() { // DON'T EDIT BELOW THIS LINE

	var d = document, s = d.createElement('script');
	s.src = 'https://hayden-2.disqus.com/embed.js';
	s.setAttribute('data-timestamp', +new Date());
	(d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            


  </div>
</div>
 
<div id="bottom-outer" class="container-fluid">
  <div id="bottom-inner" class="row">
    <div id="bottom-info" class="col">
       <i> For LCC MA.IVM Reflective Journal</i>
        <br>
        
        
            / <a class="" href="/">Home</a>
        
            / <a class="" href="/archives">Archives</a>
        
            / <a class="" href="/about">About</a>
        
        <br>
        <br>
        <p>
          Site by <a href="/about">Heyao</a> / Made by <a href="https://hexo.io/" target="_blank">HEXO</a>
        </p>
        
    </div>
  </div>
</div>


  <!-- scripts list from theme config.yml -->
  
    <script src="/js/main.js"></script>
  
    <script src="/js/jquery-3.3.1.js"></script>
  
    <script src="/js/bootstrap.js"></script>
  
    <script src="/js/parallax.js"></script>
  




<!-- Custom Theme JavaScript -->


</body>
</html>
